package Test;

import java.io.PrintStream;

import Sensors.Sensors;
import definitions.PinMap;
import definitions.RobotConstants;
import ch.ntb.inf.deep.runtime.mpc555.driver.HLC1395Pulsed;
import ch.ntb.inf.deep.runtime.mpc555.driver.QADC_AIN;
import ch.ntb.inf.deep.runtime.mpc555.driver.SCI;
import ch.ntb.inf.deep.runtime.ppc32.Task;


public class TestSensors extends Task {

	Sensors sensors;
	//QADC_AIN adc;
	private HLC1395Pulsed hlc;
	
	TestSensors(){
		//sensors = new Sensors();
		//adc.init(true);
		//QADC_AIN.init(true);
		//adc.init(true);
		hlc = HLC1395Pulsed.getInstance();
		hlc.init(-1, -1, -1, -1, -1, 53);
		hlc.start();

	}
	
	public void action(){
		
		try{
/*		System.out.println("Roboter angedockt:");
		System.out.print(sensors.getDock());
		System.out.println("Plattformposition:");
		System.out.print(sensors.getPlatform());*/
			//getValues();
		}catch(Exception e){ }
	}
	
	static {

		SCI sci1 = SCI.getInstance(SCI.pSCI1);
		sci1.start(9600, SCI.NO_PARITY, (short)8);
		System.out = new PrintStream(sci1.out);
		Task t = new TestSensors();
		t.period = 500;		
		Task.install(t);

	}
	
	public void getValues(){
		
		//adc.read(true, 53);
		//System.out.println("LDR          " + QADC_AIN.read(true, 53));
		System.out.println(hlc.read(0));
		
//		System.out.println("OPT1         " + QADC_AIN.read(true, 55));
//		System.out.println("LDR          " + QADC_AIN.read(true, 53));
//		
//		System.out.println("OPT2         " + QADC_AIN.read(true, 56));
//		System.out.println("LDR          " + QADC_AIN.read(true, 53));
//		
//		System.out.println("OPT3         " + QADC_AIN.read(true, 54));
//		System.out.println("LDR          " + QADC_AIN.read(true, 53));
//		
//		System.out.println("OPT4         " + QADC_AIN.read(true, 52));
	}
	
}
